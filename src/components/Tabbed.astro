---
interface Props {
  id: string;
}
const { id } = Astro.props;
const onclick = (option: string) =>
  `document.getElementById("messenger-${id}").className = "messenger-${option}";`;
---

<style>
  .messenger-box {
    padding: 10px;
    /* background-color: var(--bg-1); */
    border-left: 2px dotted var(--grey);
    border-right: 2px dotted var(--grey);
  }
  .messenger-selector {
    display: grid;
    position: sticky;
    top: 0;
    grid-template-columns: repeat(3, 1fr);
  }
  button {
    padding: 10px;
    border: 0;
    font-family: inherit;
    font-size: inherit;
    background-color: var(--bg-2);
    border-bottom: 1px solid var(--grey);
    border-top: 1px solid var(--bg-2); // this is just to freeze text in place
    border-left: 1px solid var(--bg-2);
    border-right: 1px solid var(--bg-2);
    transition: background-color 0.1s ease-out;
  }
  .messenger-sp .button-sp,
  .messenger-sl .button-sl,
  .messenger-m .button-m {
    border-bottom: 1px solid var(--bg);
    border-top: 1px solid var(--grey);
    border-left: 1px solid var(--grey);
    border-right: 1px solid var(--grey);
    background-color: var(--bg);
  }
  button:hover {
    background-color: var(--bg-3);
  }
</style>
<style is:global>
  messenger-box *:nth-child(even) {
    background-color: var(#400);
  }
</style>
<div id={`messenger-${id}`} class="messenger-sp">
  <div class="messenger-selector">
    <button class="button-sp" onclick={onclick("sp")}>sitelen pona</button>
    <button class="button-sl" onclick={onclick("sl")}>sitelen Lasina</button>
    <button class="button-m" onclick={onclick("m")}>Translation</button>
  </div>
  <div class="messenger-box">
    <slot />
  </div>
</div>
